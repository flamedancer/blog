---
layout: post 
title: python cookie 
categories: [python]
---
###  创建虚拟环境  ###

The preferred way to create a new virtual in python3 is to run

    python3 -m venv new_venv
    source new_venv/bin/active



###  分别输出什么  ###

```python
type([i for i in range(10)])
type({i for i in range(10)})
type({i:i for i in range(10)})
type((i for i in range(10)))
```

### 格式化输出  ###


```python
print("Hello", end="world\n")

name="hello"
f"name={name}"

"{:0>3}".format('1')
"{:.2f}".format(2.3434343)
"{:0>10.2f}".format(2.3434343)
```

### 自定义的对象 hash 值是多少？ ###

    Ojects which are instances of user-defined classes are hashable by default, they all compare unequal(except themselves), and their hash values is derrived from their ids.

### 列出目录文件的方法 ###

```python
import os
import glob 
glob.glob('*')   # 只显示当前目录下文件 不包括隐藏文件 
os.listdir('.')  # 只显示当前目录下文件 包括隐藏文件   
os.walk('.')	 # 迭代器 列出当前目录及其子目录文件 包括隐藏文件 

```



### 下划线 _ 含义

```
When used in interpreter
The python interpreter stores the last expression value to the special variable called ‘_’. This feature has been used in standard CPython interpreter first and you could use it in other Python interpreters too.

For Ignoring the values
The underscore is also used for ignoring the specific values. If you don’t need the specific values or the values are not used, just assign the values to underscore.
```



### 字符编码 ###

```
If you have a string, in memory, in a file, or in a email message, you have to know what encoding it is or you cannot interpret it or display it to user correctly.
If you're looking to detect non-UTF encodings(IE. no BOM), you should analysis it.
```



### 类型标注 ###

```python
def f(ham: str, eggs: str='eggs') -> str:
    print("Annotation:", f.__annotations__)
    print("Annotation:", ham, eggs)
    return ham + eggs

"""
>>> f('a' , 'b')
Annotation: {'ham': <class 'str'>, 'eggs': <class 'str'>, 'return': <class 'str'>}
Annotation: a b
'ab'
>>>
"""
```



### 重新加载模块###

```python
import importlib

importlib.reload(importlib)

```



### ASCII ###

```
ASCII   (/'æski)

American standard code for information interchange
```



### 迭代器  - 自定义类 ###

```python
class Reverse:
    def __init__(self, data):
        self.data = data
        self.length = len(data)
        
	def __iter__(self):
        self.index = 0
        return self
    
    def __next__(self):
        rst = self.data[self.index]
        self.index += 1
        if self.index > self.length:
            raise StopIteration
        return rst


```



### 正则替换 ###

```
>>> import re
>>>
>>> p1 = re.sub('\w+ \d+', '123', 'sdf 43 54545')
>>> p1
'123 54545'
>>> p1 = re.sub('\w+ \d+', '123', 'sdf 43 gdg 433  54545')
>>> p1
'123 123  54545'
```



### 迭代器  - Callable object ###

```python

with open('mydata.txt') as fp:
    for line in iter(fp.readline, ''):
        processLine(line)
        
"""
When you run the program, it will open mydata.txt in read mode.
Then, the iter(fp.readline, '') in the for loop calls readline (which reads each line in the text file) until the sentinel character '' (empty string) is reached.
"""
```



###  类工厂 ###

```python
type('X', (object,), dict=(a=1))

"""
type(类名， (继承类列表)， 类属性)
"""
```



### Ture OR Flase ###

```
Any object can be tested for truth value, for use in an if or while condition or as operand of the Boolean operations below. The following values are considered false:

- None
- False
- zero of any numeric type, for example, `0`, `0L`, `0.0`, `0j`.
- any empty sequence, for example, `''`, `()`, `[]`.
- any empty mapping, for example, `{}`.
- instances of user-defined classes, if the class defines a `__nonzero__()` or `__len__()`method, when that method returns the integer zero or bool value `False`.

All other values are considered true -- so objects of many types are always true. Operations and built-in functions that have a Boolean result always return 0 or `False` for false and 1 or `True` for true, unless otherwise stated. (Important exception: the Boolean operations "or" and "and" always return one of their operands.)
```